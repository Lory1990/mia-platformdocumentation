---
id: configuration
title: API Portal Configuration
sidebar_label: Configuration
---

<!--
WARNING: this file was automatically generated by Mia-Platform Doc Aggregator.
DO NOT MODIFY IT BY HAND.
Instead, modify the source file and run the aggregator to regenerate this file.
-->

The **API Portal** microservice can be added to your project by visiting Mia-Platform [Marketplace](../../marketplace/overview_marketplace). It works best with the [Swagger Aggregator](../swagger-aggregator/overview) but it's possible to use it with a custom microservice if the correct data are returned.

:::note
You can select the [API Documentation]() application on the [Marketplace](../../marketplace/overview_marketplace) to have a ready-to-use `API Portal` that works with the `Swagger Aggregator` microservice.
:::

## Routes

The **API Portal** requires to expose two routes: `/api/openapi/` and `/api/openapi/raw/`.

The main endpoints are:

* `/api/openapi/json`: it expects a compliant [Open API specification document](https://swagger.io/resources/open-api/). All versions are supported;

* `/api/openapi/subswaggers/`: it expects an array of objects like `[{"name": "<subswagger-name>", "categoryUrl": "<subswagger-url>"}]`. The `categoryUrl` is joined, using [path.join](https://www.npmjs.com/package/path), with `/api/openapi/json`. To understand what is a subswagger, please see [this page](../../development_suite/api-console/advanced-section/swagger-aggregator/configuration#subswaggers).

The endpoints regarding the downloads are:

* `/api/openapi/raw/swagger/json` and `/api/openapi/raw/swagger/yaml`: it expects a [Open API v2 (swagger)](https://swagger.io/specification/v2/) object in json and yaml format respectively

* `/api/openapi/raw/openapi/v3/json` and `/api/openapi/raw/openapi/v3/yaml`: it expects a [Open API v3](https://swagger.io/specification/v3/) object in json and yaml format respectively

* `/api/openapi/raw/openapi/v3-1/json` and `/api/openapi/raw/openapi/v3-1/yaml`: it expects a [Open API v3.1](https://swagger.io/specification/) object in json and yaml format respectively

When a category is selected, it calls all the paths above, except for the subswaggers endpoint, joined with the corresponding `categoryUrl`.
For example, if the selected category has `categoryUrl = ../category1.json`, the routes called will be:

* `/api/openapi/category1.json`
* `/api/openapi/raw/swagger/category1.json` and `/api/openapi/raw/swagger/category1.json/yaml`
* `/api/openapi/raw/openapi/v3/category1.json` and `/api/openapi/raw/openapi/v3/category1.json/yaml`
* `/api/openapi/raw/openapi/v3-1/category1.json` and `/api/openapi/raw/openapi/v3-1/category1.json/yaml`


## Environment variables

The API Portal accepts the following environment variables:

- **HTTP_PORT** (default: 8080): defines the http port to use
